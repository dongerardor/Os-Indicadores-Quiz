{% extends "base.html" %}

{% block title %}Welcome{% endblock %}

{% block content %}
    <h2>Welcome to the Flask Quiz App</h2>
    {% if user.name %}
        <p>Welcome, {{ user.name }}!</p>
    {% else %}
        <p>What`s your name?</p>
        <form name="user" action="{{ url_for('start') }}" method="post">
            <input type="hidden" name="form-type" value="set-name">
            <input type="text" name="username" required>
            <input type="submit" value="Set my name">
        </form>
    {% endif %}

    <p>Select quiz</p>
    <form name="select-quiz" action="{{ url_for('start') }}" method="post">
        <input type="hidden" name="form-type" value="set-quiz">
        <select name="quiz">
            {% for quiz in quizzes %}
                <option value="{{ quiz.id }}">{{ quiz.title }}</option>
            {% endfor %}
        </select>
        <input type="submit" value="Select Quiz">
    </form>

    {% if quiz %}
        <p>Selected quiz: {{ quiz.title }}</p>
    {% endif %}

    {% if quiz and user %}
        <p><a href="{{ url_for('quiz') }}">Start Quiz</a></p>
    {% endif %}

{% endblock %}
